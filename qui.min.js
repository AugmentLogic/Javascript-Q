!function(g){g.qui_version=.06;var x={};g.note=function(){if(!1===arguments[0])return g("._qui-note").remove(),this;if(this.is_qchain){var a=this,e=a.data("_qui-note-box-node");e&&g(e).remove();for(var t,o,i=!1,s=arguments.length,n=0,r=0;r!=s;r++){var d=arguments[r],u=typeof d;"string"==u?(0==n?t=d:1==n&&(o=d),n++):"object"==u&&(i=d)}i=i||x;var l,c=10,h=20,p=g("<div class='_qui-note'></div>").appendTo("body"),f=g("<div class='_qui-note-text'>").html(t).appendTo(p),m=g("<div class='_qui-note-arrow'>").appendTo(p),v=m.width(),b=m.height();if(a.data("_qui-note-box-node",p[0]),o&&(l=g("<div class='_qui-note-secondary-data'>").html(o).appendTo(p),p.addClass("_qui-state-secondary")),i){for(var r in i)"focal-width"==i[r]&&(i[r]=a.width());i.width||(i.width=p.width()),p.css(i)}else p.css({width:Math.max(p.width(),a.width())});g.delay(50,function(){p.addClass("_qui-state-transitioned")}),g(window).bind("resize.qui-note scroll.qui-note mousemove.qui-note",y),y(),g.delay(10,y);var q=g.delay(500,y),w=window.setInterval(function(){y()},1e3),_={text:function(e){if(void 0===e)return t;t=e,f.html(t)},secondary:function(e){return void 0===e?o:!1===e?(l.remove(),void p.removeClass("_qui-state-secondary")):(l||(l=g("<div class='_qui-note-secondary-data'>").appendTo(p),p.addClass("_qui-state-secondary")),l.html(e),void(o=e))},box:p,shake:function(e){p.addClass("_qui-state-error").addClass("_qui-animation-shake"),g.delay(1e3,function(){p.removeClass("_qui-animation-shake"),e||p.removeClass("_qui-state-error")})},close:function(){p.removeClass("_qui-state-transitioned"),p.addClass("_qui-state-closing"),g.delay(500,function(){p.remove()}),g(window).unbind("resize.qui-note scroll.qui-note mousemove.qui-note"),g.clear(q),window.clearTimeout(w)}};return x.autoClose&&g("body").bind("click.qui-note-auto-close keydown.qui-note-auto-close",function(){g("body").unbind("click.qui-note-auto-close keydown.qui-note-auto-close"),_.close()}),x.autoFocus&&a.focus(),_}function y(){var e=p.width(),t=x.topFixed||g.scrollTop()+g.height()-c-h-a.height()-p.height()<a.top();t&&!x.topFixed&&(t=p.height()<a.scrollTop()-c);a.top();var o=i=a.left(),i=Math.min(i,g.scrollLeft()+g.width()-e-c-h);i=Math.max(i,a.left()-e+v),i=Math.max(i,g.scrollLeft()+c),i=Math.min(i,a.right()-v),intLeftDifference=o-i,t?p.addClass("_qui-note-top-pos"):p.removeClass("_qui-note-top-pos"),m.css({left:Math.max(0,intLeftDifference)}),p.css({top:t?a.top()-p.height()-b:a.bottom()+b,left:i})}x=arguments[0]},g.plugin("note",g.note),g.plugin("barbershopLoader",function(e){e=e||{};e=g.extend({width:10,spacing:14,speed:.25},e);intSpace=e.width+e.spacing;var t=this,o=Math.max(t.width(),t.height()),i=o/intSpace*2,a=2*o,s=(t.data("_qui-barbershop-loader")||g("<div>").appendAfter(t)).addClass("_qui-barbershop-loader").css({borderBottomLeftRadius:t.css("-webkit-border-bottom-left-radius"),borderBottomRightRadius:t.css("-webkit-border-bottom-right-radius"),borderTopLeftRadius:t.css("-webkit-border-top-left-radius"),borderTopRightRadius:t.css("-webkit-border-top-right-radius")}),n=g("<div class='_qui-barbershop-holder'>").appendTo(s),r="_qui-barbershop-animation-"+intSpace;t.appendTo(s),t.data("_qui-barbershop-loader",s),n.addRawCSS("@keyframes "+r+" {from {transform:translateX(0);}to {transform:translateX("+intSpace+"px);}}"),n.css({width:a,height:a,left:t.width()/2-a/2,top:t.height()/2-a/2,animation:r+" "+e.speed+"s infinite","animation-timing-function":"linear"});for(var d=0;d<i;d++)g("<div class='_qui-barbershop-bar'></div>").appendTo(n).css({left:d*intSpace}).css(e);return{stop:function(){n.remove(),s.removeClass("_qui-barbershop-loader")}}}),g.plugin("xyselect",function(s){return g.iterate(this,function(e,t){var o=g(t),b=s.rows||o.attr("rows")||0,q=s.cols||o.attr("cols")||0,i=(s.change,o.innerWidth()-o.horizontalBorders()),a=o.innerHeight()-o.verticalBorders(),w=q?i/q:i,_=b?a/b:a;o.addClass("_qui-xyselect");var y=o.data("_qui-xyselect-handle");y?y=g(y):(y=g("<a>").addClass("_qui-xyselect-handle").appendTo(o),o.data("_qui-xyselect-handle",y[0])),y.css({width:w,height:_}),o.bind("mousedown._qui-xyselect",function(e){e.preventDefault();var u,l,c=e.clientX,h=e.clientY,p=parseInt(y.css("left")),f=parseInt(y.css("top")),m=g.scrollLeft(),v=g.scrollTop(),t=g.mask({css:{cursor:"grabbing"}});g(window).bind("mousemove._qui-xyselect",function(e){e.preventDefault();var t=g.scrollLeft()-m,o=g.scrollTop()-v,i=e.clientX+t,a=e.clientY+o,s=i-c+p,n=a-h+f,r=q?Math.min(q-1,Math.max(0,Math.round(s/w))):0,d=b?Math.min(b-1,Math.max(0,Math.round(n/_))):0;u=r*w,l=d*_,y.css({left:u,top:l})}),g(window).bind("mouseup._qui-xyselect",function(e){e.preventDefault(),p=u,f=l,g(window).unbind("mouseup._qui-xyselect"),g(window).unbind("mousemove._qui-xyselect"),t.remove()})})}),this}),g.mask=function(e){var t=g("<div>").addClass("_qui-mask").appendTo("body");return e.css&&t.css(e.css),t}}($);