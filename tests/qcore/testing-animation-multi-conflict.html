<!-- This document is badly commented... sorry. -->
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<script src="./../q.js"></script>
<script type="text/javascript">
$(function () {
	var $div2 = $("<div id='box2'>")
	.appendTo("body")
	.css({
		position : "absolute",
		backgroundColor : 'rgb(255,0,0)',
		width : 100,
		height : 100,
		left:0,
		top:0
	});

	var $div = $("<div id='box'>")
	.appendTo("body")
	.css({
		position : "absolute",
		backgroundColor : 'rgb(0,255,0)',
		width : 100,
		height : 100,
		left:0,
		top:0
	});
	
	var intHalf = $.width()/2-$div.width()/2;
	var intFull = $.width()-$div.width();
	$("#go").click(function () {
		// Control
		$div2.animate({
			top : 100,
			left : intHalf
		},1000);
		// Test
		$div.animate({
			top : 200,
			left : intHalf
		},1000);
		$.delay(500, function () {
			$div
			.animate({
				left : intFull,
				backgroundColor : 'rgb(0,0,255)',
			});
		});
	});
});
</script>
</head>
<body>
	<div style="height:140px;">
	</div>
	<div>
		<button id="go">GO</button>
	</div>
</body>
</html>
