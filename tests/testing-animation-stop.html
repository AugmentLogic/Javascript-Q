<!-- This document is badly commented... sorry. -->
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<script src="./../q.js"></script>
<script type="text/javascript">
$(function () {
	var $div = $("<div id='box'>")
	.appendTo("body")
	.css({
		position : "absolute",
		backgroundColor : 'rgb(0,255,0)',
		width : 100,
		height : 100,
		left:0,
		top:0
	});
	var $div2 = $("<div id='box2'>") // control
	.appendTo("body")
	.css({
		position : "absolute",
		backgroundColor : 'rgb(0,255,0)',
		opacity:0.5,
		width : 100,
		height : 100,
		left:0,
		top:0
	});
	
	$("#go").click(function () {
		$div2.animate({
			left : $.width()-$div.width()
		},1000,'linear');
		$div.animate({
			left : $.width()-$div.width()
		},1000,'linear');
		$.delay(500, function () {
			
			$div.stop();
		});
		

	});
});
</script>
<style>
body, * {
	padding:0;
	margin:0;
}
button {
	padding:20px;
}
div {
	text-align:center;
}
</style>
</head>
<body>
	<div>
		<div style="display:inline-block;width:100px;height:100px;box-sizing:border-box;border:1px solid #999;"></div>
	</div>
	<div style="height:140px;">
	</div>
	<div>
		<button id="go">GO</button>
	</div>
</body>
</html>
