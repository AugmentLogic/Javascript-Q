<!-- This document is badly commented... sorry. -->
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<script src="./../q.js"></script>
<script type="text/javascript">
$(function () {
	var $div = $("<div id='foo'>")
	.appendTo("body")
	.css({
		height : 100
	})
	.loop()
	.css({
		position : "absolute",
		backgroundColor : 'rgb(255,0,0)',
		top:0,
		left:0,
		width : 100
	})
	.animate({
		backgroundColor : 'rgb(0,255,0)',
		left : 100
	},1000)
	.animate({
		backgroundColor : 'rgb(0,0,255)',
		top : 100
	},1000)
	.delay(1000)
	.css({
		width : 200
	})
	.animate({
		backgroundColor : 'rgb(255,255,0)',
		left : 0
	},1000)
	.animate({
		backgroundColor : 'rgb(0,255,255)',
		top : 0
	},1000)
	.css({
		width : 100
	});
	$("#grow").click(function () {
		$("#foo")
		.withoutQueue()
		.animate({
			height : parseFloat($div.css('height')) + 40
		});
	});
	$("#shrink").click(function () {
		$("#foo")
		.withoutQueue()
		.animate({
			height : parseFloat($div.css('height')) - 40
		});
	});
});
</script>
</head>
<body>
	<div style="float:right">
		<button id="grow">grow</button>
		<button id="shrink">shrink</button>
	</div>
</body>
</html>
