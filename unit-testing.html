<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>QueryChain Library - Unit Testing</title>
		<script src="q.js"></script>
		<style>
			body * {
				max-width: 700px;
			}
			.title {
				font-size:14pt;
				font-weight: bold;
				padding: 10px 0;
				margin-top:30px;
			}
			.passfail {

			}
			.passfail {
				display: inline-block;
				width:18px;
				height:18px;
				vertical-align: middle;
				background-color:red;
				border:1px solid #000;
			}
			.passfail.passed {
				background-color: green;
			}
			.passfail.failed,
			.passfail.failed2 {
				background-color: red;
			}
			.testmessage {
				display: inline-block;
				height:16px;
				vertical-align: middle;
			}
			.unit {
				margin-top: 10px;
				vertical-align: middle;
			}
			.sample {
				display:none;
			}
		</style>

	</head>
	<body>
		<h1>QueryChain Library - Unit Testing</h1>
		<p>
			The following list is each test that was used to create the QueryChain library.
			If a box is green the test worked correctly. If a box is red, it failed the test and a bug was detected in the library.
		</p>
		<div class="title">Basic selection testing</div>
		<div id="test1">
			<div class="unit">
				<div class="passfail"  id="test1_result"></div>
				<div class="testmessage">Selection of a single div using id selection.</div>
			</div>
			<script>
				var objNode = q('#test1_result');
				var boolTest = objNode && typeof objNode[0] == 'object';
				if (boolTest) {
					objNode[0].style.backgroundColor = 'green';
				}
			</script>
		</div>
		<div class="title">Css handling</div>
		<div id="test2">
			<div class="unit">
				<div class="passfail" id="test2_result"></div>
				<div class="testmessage">Alter background-color of a box.</div>
			</div>
			<script>
				q('#test2_result').css({
					'background-color' : 'green'
				});
			</script>
		</div>
		<div id="test27">
			<div class="unit">
				<div class="passfail" id="test27_result"></div>
				<div class="testmessage">Set a single style.</div>
			</div>
			<script>
				q('#test27_result').css('background-color', 'green');
			</script>
		</div>
		<div id="test15">
			<div class="unit">
				<div class="passfail" id="test15_result"></div>
				<div class="testmessage">Check width of box.</div>
			</div>
			<script>
				if (q('#test15_result').css('width') == '18px')
					q('#test15_result').css({
						'background-color' : 'green'
					});
			</script>
		</div>
		<div id="test14">
			<div class="unit">
				<div class="passfail" id="test14_result"></div>
				<div class="testmessage">Alter width of box.</div>
			</div>
			<script>
				q('#test14_result').css({
					'width' : 100
				});
				if (q('#test14_result').css('width') == '100px')
					q('#test14_result').css({
						'background-color' : 'green'
					});
				q('#test14_result').css({
					'width' : 18
				});
			</script>
		</div>
		<div class="title">Chaining / Find operation</div>
		<div id="test3">
			<div class="unit">
				<div class="passfail" id="test3_result"></div>
				<div class="testmessage">Basic chained find operation.</div>
			</div>
			<script>
				q('#test3').find('#test3_result').css({
					'background-color' : 'green'
				});
			</script>
		</div>
		<div id="test4">
			<div class="unit">
				<div class="passfail" id="test4_result"></div>
				<div class="testmessage">Check for false-positive in chained find operation.</div>
			</div>
			<script>
				if (!q('#test3').find('#test4_result')[0]) {
					q('#test4_result').css({
						'background-color' : 'green'
					});
				}
			</script>
		</div>
		<div id="test7">
			<div class="unit">
				<div class="passfail" id="test7_result"></div>
				<div class="testmessage">Handle q object through variable.</div>
			</div>
			<script>
				var objq = q('#test7_result');
				objq.css({
					'background-color' : 'green'
				});
			</script>
		</div>
		<div id="test21">
			<div class="unit">
				<div class="passfail" id="test21_result"></div>
				<div class="testmessage">Use the .is method to check if something matches a selection.</div>
			</div>
			<script>
				var objq = q('#test21_result');
				if (objq.is('.passfail') && !objq.is('.failed')) {
					objq.css({
						'background-color' : 'green'
					});
				}
			</script>
		</div>
		<div id="test22" class="test22_top">
			<div class="unit">
				<div class="passfail" id="test22_result"></div>
				<div class="testmessage">Test the .closest method to find the nearest matching element up the dom tree.</div>
			</div>
			<script>
				var objq1 = q('#test22');
				var objq2 = q('#test22_result').closest('.test22_top');
				if (objq1[0] == objq2[0]) {
					q('#test22_result').css({
						'background-color' : 'green'
					});
				}
			</script>
		</div>
		<div class="title">Class handling</div>
		<div id="test5">
			<div class="unit">
				<div class="passfail" id="test5_result"></div>
				<div class="testmessage">Add a class.</div>
			</div>
			<script>
				q('#test5_result').addClass('passed');
			</script>
		</div>
		<div id="test10">
			<div class="unit">
				<div class="passfail" id="test10_result"></div>
				<div class="testmessage">Check if class exists.</div>
			</div>
			<script>
				if (q('#test10_result').hasClass('passfail')) {
					q('#test10_result').addClass('passed');
				}
			</script>
		</div>
		<div id="test12">
			<div class="unit">
				<div class="passfail anotherclass" id="test12_result"></div>
				<div class="testmessage">Check for multiple classes.</div>
			</div>
			<script>
				if (q('#test12_result').hasClass('passfail anotherclass')) {
					q('#test12_result').addClass('passed');
				}
			</script>
		</div>
		<div id="test13">
			<div class="unit">
				<div class="passfail" id="test13_result"></div>
				<div class="testmessage">Check hasClass for false-positive.</div>
			</div>
			<script>
				if (
					!q('#test13_result').hasClass('passfail anotherclass')
					&& q('#test13_result').hasClass('passfail')
				) {
					q('#test13_result').addClass('passed');
				}
			</script>
		</div>
		<div id="test6">
			<div class="unit">
				<div class="passfail failed passed" id="test6_result"></div>
				<div class="testmessage">Remove a class.</div>
			</div>
			<script>
				q('#test6_result').removeClass('failed');
			</script>
		</div>
		<div id="test9">
			<div class="unit">
				<div class="passfail" id="test9_result"></div>
				<div class="testmessage">Add multiple classes.</div>
			</div>
			<script>
				q('#test9_result')
					.addClass('failed passed')
					.removeClass('failed');
			</script>
		</div>
		<div id="test11">
			<div class="unit">
				<div class="passfail passed failed failed2" id="test11_result"></div>
				<div class="testmessage">Remove multiple classes.</div>
			</div>
			<script>
				q('#test11_result').removeClass('failed failed2');
			</script>
		</div>
		<div class="title">Chained iteration</div>
		<div id="test17">
			<div class="unit">
				<div class="passfail" id="test17_result"></div>
				<div class="testmessage">Placeholder for next text.</div>
			</div>
		</div>
		<div id="test18">
			<div class="unit">
				<div class="passfail" id="test18_result"></div>
				<div class="testmessage">The each function is working correctly if this box and the above box is green.</div>
			</div>
			<script>
				q('#test17_result,#test18_result').each(function () {
					q(this).addClass('passed');
				});
			</script>
		</div>
		<div class="title">None chain-able resources</div>
		<div id="test16">
			<div class="unit">
				<div class="passfail" id="test16_result"></div>
				<div class="testmessage">On document load.</div>
			</div>
			<script>
				q(function () {
					q('#test16_result')
						.addClass('passed');
				});
			</script>
		</div>
		<div class="title">Altering attributes</div>
		<div id="test19">
			<div class="unit">
				<div class="passfail" id="test19_result"></div>
				<div class="testmessage">Set an attribute and read to see if it was set/read correctly.</div>
			</div>
			<script>
				var strAttr = "abcd1234";
				var strAttrResult = q('#test19_result').attr('custome_attr', strAttr).attr('custome_attr');
				if (strAttrResult == strAttr)
					q('#test19_result').addClass('passed');
			</script>
		</div>
		<div id="test20">
			<div class="unit">
				<div class="passfail" id="test20_result"></div>
				<div class="testmessage">Check if a attr can be removed correctly.</div>
			</div>
			<script>
				var strAttrResult = q('#test19_result').removeAttr('custome_attr').attr('custome_attr');
				if (strAttrResult == null) {
					q('#test20_result').addClass('passed');
				}
			</script>
		</div>
		<div id="test26">
			<div class="unit">
				<div class="passfail" id="test26_result"></div>
				<div class="testmessage">Set multiple attributes.</div>
			</div>
			<script>
				q('#test26_result').attr({
					test1 : '123',
					test2 : '321'
				});
				if (
					q('#test26_result').attr('test1') == '123'
					&& q('#test26_result').attr('test2') == '321'
				) {
					q('#test26_result').addClass('passed');
				}
			</script>
		</div>
		<div class="title">Custom each iteration</div>
		<div id="test23">
			<div class="unit">
				<div class="passfail" id="test23_result"></div>
				<div class="testmessage">Iterate an object.</div>
			</div>
			<script>
				var objSampleData = {
					123:'abc',
					4:5,
					'd':6,
					'e':'f'
				};
				var i =0;
				q.each(objSampleData,function (k,v) {
					i++;
				});
				if (i==4) {
					q('#test23_result').addClass('passed');
				}
			</script>
		</div>
		<div id="test24">
			<div class="unit">
				<div class="passfail" id="test24_result"></div>
				<div class="testmessage">Iterate an array.</div>
			</div>
			<script>
				var objSampleData = [
					'abc',
					1,
					2,
					'asa123'
				];
				var i =0;
				q.each(objSampleData,function (k,v) {
					i++;
				});
				if (i==4) {
					q('#test24_result').addClass('passed');
				}
			</script>
		</div>
		<div id="test25">
			<div class="unit">
				<div class="passfail" id="test25_result"></div>
				<div class="testmessage">Iterate QueryChain.</div>
			</div>
			<script>
				var objSampleData = [
					'abc',
					1,
					2,
					'asa123'
				];
				var i =0;
				q(objSampleData).each(function (k,v) {
					i++;
				});
				if (i==4) {
					q('#test25_result').addClass('passed');
				}
			</script>
		</div>
		<div class="title">Ajax</div>
		<div id="test28">
			<div class="unit">
				<div class="passfail" id="test28_result"></div>
				<div class="testmessage">Create a simple get request.</div>
			</div>
			<script>
				q.request({
					url : 'test-ajax.php',
					success : function (strResponse) {
						if (strResponse.replace(/\r?\n/g, '') == 'array(0) {}array(0) {}') {
							q('#test28_result').addClass('passed');
						}
					}
				});
			</script>
		</div>
		<div id="test29">
			<div class="unit">
				<div class="passfail" id="test29_result"></div>
				<div class="testmessage">Create a simple post request.</div>
			</div>
			<script>
				q.request({
					url : 'test-ajax.php',
					post : {
						'test_key' : 'test_value'
					},
					success : function (strResponse) {
						if (strResponse.replace(/\r?\n/g, '') == 'array(0) {}array(1) {  ["test_key"]=>  string(10) "test_value"}') {
							q('#test29_result').addClass('passed');
						}
					}
				});
			</script>
		</div>
		<div id="test30">
			<div class="unit">
				<div class="passfail" id="test30_result"></div>
				<div class="testmessage">Serialize a form.</div>
			</div>
			<div class="sample">
				<form>
					<input type="hidden" name="test1" value="value1" />
					<input type="button" name="test2" value="value2" />
					<input type="text" name="test3" value="value3" />
					<input type="checkbox" checked="checked" name="test4" value="value4" />
					<input type="checkbox" name="test5" value="value5" />
					<input type="radio" name="test6" value="value6_1" />
					<input type="radio" name="test6" checked="checked" value="value6_2" />
					<input type="radio" name="test6" value="value6_3" />
					<input type="text" name="test7" value="value7_1" />
					<input type="text" name="test7" value="value7_2" />
					<input type="submit" name="test8" value="value8" />
					<input type="text" name="test10" value="" />
					<textarea name="test11">value11</textarea>
					<button>test button 1</button>
					<button name="test9">test button 2</button>
				</form>
			</div>
			<script>
				var strExpected = "test1=value1&test3=value3&test4=value4&test6=value6_2&test7=value7_1&test7=value7_2&test10=&test11=value11";
				if (q('#test30 form').serialize() == strExpected) {
					q('#test30_result').addClass('passed');
				}
			</script>
		</div>
		<div id="test31">
			<div class="unit">
				<div class="passfail" id="test31_result"></div>
				<div class="testmessage">Serialize an array.</div>
			</div>
			<script>
				var objSampleData = {
					123:'abc',
					4:5,
					'd':6,
					'e':'f'
				};
				var strExpected = "4=5&123=abc&d=6&e=f";
				if (q.serialize(objSampleData) == strExpected) {
					q('#test31_result').addClass('passed');
				}
			</script>
		</div>

		<div style="padding:40px 20px">
			Test count: <script>document.write(q('.unit').count);</script>
		</div>
	</body>
</html>
